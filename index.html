<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
      Rock Paper Scissor
    </title>
    <link rel="stylesheet" href="rock-paper-scissor.css">
  </head>
  <body>
    <div class="title-flex"><p class="title">Rock Paper Scissors</p></div>
    <div class="rock-paper-scissor">
      <button onclick="
       pickplayerMove('Rock');" class="move-button">
      <img class="move-image" src="rock-emoji.png">
    </button>
    <button onclick="
    pickplayerMove('Paper');" class="move-button">
    <img class="move-image" src="paper-emoji.png">
  </button>
    <button onclick="
    pickplayerMove('Scissors');" class="move-button">
    <img class="move-image" src="scissors-emoji.png">
  </button>
    </div>
  <p class="js-result myresult"></p>
  <p class="js-moves moves"></p>
  <p class="js-score"></p>
  <button class="reset-button" onclick="score.wins=0;score.losses=0;score.tied=0;localStorage.removeItem('score');displayresults();">Reset Score</button>
  <script >
    let score=JSON.parse(localStorage.getItem('score'));
    if(score===null){
      score={
        wins:0,
        losses:0,
        tied:0
      }
    }
    displayresults();
    function pickplayerMove(playerMove){
    const computerMove=pickcomputerMove();
    let result='';
    if(playerMove==='Scissors'){
      if(computerMove=== 'Rock'){
        result='You Loose.';
      }
      else if(computerMove==='Paper'){
        result='You Win.';
      }
      else if(computerMove==='Scissors'){
        result='Tie.';
      }
      comparingResults(result);
    }
    else if(playerMove==='Paper'){
      if(computerMove=== 'Rock'){
        result='You Win.';
      }
      else if(computerMove==='Paper'){
        result='Tie.';
      }
      else if(computerMove==='Scissors'){
        result='You Loose.';
     }
     comparingResults(result);
    }    
    else if(playerMove==='Rock'){
      if(computerMove=== 'Rock'){
        result='Tie.';
      }
      else if(computerMove==='Paper'){
        result='You Loose.';
      }
      else if(computerMove==='Scissors'){
        result='You Win.';
      }
      comparingResults(result);
    }
    displayresults();
    document.querySelector('.js-result')
        .innerHTML=`${result}`;
    document.querySelector('.js-moves')
        .innerHTML=`You <img class="move-image" src="${playerMove}-emoji.png"> <img class="move-image" src="${computerMove}-emoji.png"> Computer`;
    }
    function displayresults(){
        document.querySelector('.js-score')
          .innerHTML=`Wins:${score.wins},Losses:${score.losses},Ties:${score.tied}`;
    }
    function pickcomputerMove(){
      let randomnum=Math.random();
      let computerMove='';
      if(randomnum>=0 && randomnum<1/3){
        computerMove='Rock';
      }
      else if(randomnum>=1/3 && randomnum<2/3){
        computerMove='Paper';
      }
      else if(randomnum>=2/3 && randomnum<1){
        computerMove='Scissors';
      }
      return computerMove;
    }
    function comparingResults(result){
      if(result==='You Win.'){
        score.wins+=1;
      }
      else if(result==='You Loose.'){
        score.losses+=1;
      }
      else if(result==='Tie.'){
        score.tied+=1;
      }
      localStorage.setItem('score',JSON.stringify(score));
    }
  </script>
  </body>
</html>